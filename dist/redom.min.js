!function(a,b){typeof exports==='object'&&typeof module!=='undefined'?b(exports):typeof define==='function'&&define.amd?define(['exports'],b):(b((a.redom=a.redom||{})))}(this,(function(b){'use strict';var c=35,d=46;function e(a,b){var e,f,g,h=0,i=0;for(var j=0;j<=a.length;j++){var k=a.charCodeAt(j);if(k===c||k===d||!k){if(h===0)j===0?(e='div'):k?(e=a.substring(i,j)):(e=a);else{var l=a.substring(i,j);h===1?(f=l):g?(g+=' '+l):(g=l)}i=j+1;k===c?(h=1):(h=2)}}var m=b?document.createElementNS(b,e):document.createElement(e);f&&(m.id=f);g&&(b?m.setAttribute('class',g):(m.className=g));return m}var f=['onmount','onunmount'];function g(a,b,c){var d=q(a),e=q(b);b===e&&e.__redom_view&&(b=e.__redom_view);b!==e&&(e.__redom_view=b);var f=e.__redom_mounted,g=e.parentNode;f&&g!==d&&j(b,e,g);c!=null?d.insertBefore(e,q(c)):d.appendChild(e);i(b,e,d,g);return b}function h(a,b){var c=q(a),d=q(b);b===d&&d.__redom_view&&(b=d.__redom_view);j(b,d,c);c.removeChild(d);return b}function i(a,b,c,d){var e=b.__redom_lifecycle||(b.__redom_lifecycle={}),g=c===d,h=!1;for(var i=0;i<f.length;i++){var j=f[i];!g&&a!==b&&j in a&&(e[j]=(e[j]||0)+1);e[j]&&(h=!0)}if(!h){b.__redom_mounted=!0;return}var l=c,m=!1;(g||!m&&(l&&l.__redom_mounted))&&(k(b,g?'onremount':'onmount'),m=!0);if(g){return}while(l){var n=l.parentNode,o=l.__redom_lifecycle||(l.__redom_lifecycle={});for(var p in e)o[p]=(o[p]||0)+e[p];!m&&(l===document||n&&n.__redom_mounted)&&(k(l,g?'onremount':'onmount'),m=!0);l=n}}function j(a,b,c){var d=b.__redom_lifecycle;if(!d){b.__redom_mounted=!1;return}var e=c;b.__redom_mounted&&k(b,'onunmount');while(e){var f=e.__redom_lifecycle||(e.__redom_lifecycle={}),g=!1;for(var h in d)f[h]&&(f[h]-=d[h]),f[h]&&(g=!0);g||(e.__redom_lifecycle=null);e=e.parentNode}}function k(a,b){b==='onmount'?(a.__redom_mounted=!0):b==='onunmount'&&(a.__redom_mounted=!1);var c=a.__redom_lifecycle;if(!c){return}var d=a.__redom_view,e=0;d&&d[b]&&d[b]();for(var f in c)f&&e++;if(e){var g=a.firstChild;while(g){var h=g.nextSibling;k(g,b);g=h}}}function l(a,b,c){var d=q(a);if(c!==undefined)d.style[b]=c;else if(r(b))d.setAttribute('style',b);else{for(var e in b)l(d,e,b[e])}}function m(a,b,c){var d=q(a),e=d instanceof window.SVGElement;if(c!==undefined)b==='style'?l(d,c):e&&t(c)?(d[b]=c):!e&&(b in d||t(c))?(d[b]=c):d.setAttribute(b,c);else{for(var f in b)m(d,f,b[f])}}var n=function(a){return document.createTextNode(a)};function o(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d!==0&&!d){continue}typeof d==='function'?d(a):r(d)||s(d)?a.appendChild(n(d)):u(q(d))?g(a,d):d.length?o(a,d):typeof d==='object'&&m(a,d)}}var p=function(a){return r(a)?x(a):q(a)},q=function(a){return a.nodeType&&a||!a.el&&a||q(a.el)},r=function(a){return typeof a==='string'},s=function(a){return typeof a==='number'},t=function(a){return typeof a==='function'},u=function(a){return a&&a.nodeType},v={},w=function(a){return v[a]||(v[a]=e(a))};function x(a){var b=[],c=arguments.length-1;while(c-->0)b[c]=arguments[c+1];var d;if(r(a))d=w(a).cloneNode(!1);else if(u(a))d=a.cloneNode(!1);else{throw new Error('At least one argument required')};o(d,b);return d}function y(a){var b=w(a);return x.bind(this,b)}x.extend=y;var z=x;function A(a,b){if(b.length===undefined){return A(a,[b])}var c=q(a),d=c.firstChild;for(var e=0;e<b.length;e++){var f=b[e];if(!f){continue}var i=q(f);if(i===d){d=d.nextSibling;continue}g(a,f,d)}while(d){var j=d.nextSibling;h(a,d);d=j}}var B=function(a){return function(b){return b[a]}};function C(a,b,c,d){return new D(a,b,c,d)}function D(a,b,c,d){this.__redom_list=!0;this.View=b;this.initData=d;this.views=[];this.el=p(a);c!=null&&(this.lookup={},this.key=t(c)?c:B(c))}function E(a,b,c,d){return D.bind(D,a,b,c,d)}D.extend=E;C.extend=D.extend;D.prototype.update=function(a){var b=this;a===void 0&&(a=[]);var c=this.View,d=this.key,e=d!=null,f=this.initData,g=new Array(a.length),i=this.views,j=d&&{},k=d&&this.lookup;for(var l=0;l<a.length;l++){var m=a[l],n=void 0;if(e){var o=d(m);n=g[l]=k[o]||new c(f,m,l,a);j[o]=n;n.__id=o}else n=g[l]=i[l]||new c(f,m,l,a);var p=n.el;p.__redom_list&&(p=p.el);p.__redom_view=n;n.update&&n.update(m,l,a)}if(e){for(var q=0;q<i.length;q++){var r=i[q].__id;(r in j)||h(b,k[r])}}A(this,g);e&&(this.lookup=j);this.views=g};function F(a,b,c){return new G(a,b,c)}var G=function d(a,b,c){this.el=p(a);this.Views=b;this.initData=c};G.prototype.update=function c(a,b){if(a!==this.route){var d=this.Views,e=d[a];this.view=e&&new e(this.initData,b);this.route=a;A(this.el,[this.view])}this.view&&this.view.update&&this.view.update(b,a)};var H='http://www.w3.org/2000/svg',I={},J=function(a){return I[a]||(I[a]=e(a,H))};function K(a){var b=[],c=arguments.length-1;while(c-->0)b[c]=arguments[c+1];var d;if(r(a))d=J(a).cloneNode(!1);else if(u(a))d=a.cloneNode(!1);else{throw new Error('At least one argument required')};o(d,b);return d}K.extend=function(a){var b=J(a);return K.bind(this,b)};b.html=x;b.el=z;b.list=C;b.List=D;b.mount=g;b.unmount=h;b.router=F;b.Router=G;b.setAttr=m;b.setStyle=l;b.setChildren=A;b.svg=K;b.text=n;Object.defineProperty(b,'__esModule',{value:!0})}))